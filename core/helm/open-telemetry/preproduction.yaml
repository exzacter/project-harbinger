# ArgoCD Application metadata
repo: https://open-telemetry.github.io/opentelemetry-helm-charts
chart: opentelemetry-demo
version: 0.32.8
namespace: otel-demo

# Environment-specific configuration for pre-production
observability:
  otelcol:
    enabled: true

components:
  frontendProxy:
    service:
      type: LoadBalancer
      annotations:
        environment: "pre-production"
        cluster: "k8s-preproduction"

  frontend:
    env:
      - name: ENV_PLATFORM
        value: "local"
      - name: OTEL_SERVICE_NAME
        value: "frontend-preprod"

  loadGenerator:
    # Reduce load in pre-production
    env:
      - name: LOCUST_USERS
        value: "5"
      - name: LOCUST_SPAWN_RATE
        value: "1"
      - name: LOCUST_RUN_TIME
        value: "24h"

# Pre-production specific resource adjustments
default:
  resources:
    limits:
      memory: 1.5Gi
